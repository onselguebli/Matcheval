<!-- src/app/manager/meeting-room/meeting-room.component.html -->
<div class="meeting-page">
  <h2>üßë‚Äçüíº Salle de r√©union</h2>

  <form (ngSubmit)="createMeeting()" class="create-form">
    <label>Titre</label>
    <input [(ngModel)]="form.title" name="title" required>

    <label>Date/heure (optionnel)</label>
    <input [(ngModel)]="form.startAt" name="startAt" type="datetime-local">

    <label>Dur√©e (min)</label>
    <input [(ngModel)]="form.durationMin" name="durationMin" type="number" min="5">

    <label>Mot de passe (optionnel)</label>
    <input [(ngModel)]="form.password" name="password" placeholder="Ex: 1234">

    <button type="submit">‚ûï Cr√©er & rejoindre</button>
  </form>

  <div class="list">
    <h3>Mes r√©unions</h3>
    <div *ngIf="loading">Chargement‚Ä¶</div>
    <div *ngIf="!loading && meetings.length === 0">Aucune r√©union.</div>

    <div *ngFor="let m of meetings" class="meeting-item">
      <div>
        <div class="title">{{ m.title }}</div>
        <div class="meta">
          Salle: <code>{{ m.roomName }}</code> &nbsp;‚Ä¢&nbsp;
          D√©but: {{ m.startAt | date:'short' }}
        </div>
      </div>
      <div class="actions">
        <button (click)="join(m)">Rejoindre</button>
        <a [href]="'https://meet.jit.si/'+m.roomName" target="_blank">Lien invit√©</a>
      </div>
    </div>
  </div>

  <div id="jitsi-container" class="jitsi-frame"></div>

  <div class="alerts">
    <div *ngIf="error" class="error">{{ error }}</div>
    <div *ngIf="success" class="success">{{ success }}</div>
  </div>
</div>
